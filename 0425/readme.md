# System Programming Midterm Exam
## 1. `man open` 시 결과가 여러 개일 경우 처리 방식 및 특정 섹션 명시 방법
### 문제
리눅스에서 open이라는 이름을 가진 항목은 man 명령어로 조회했을 때 두 개 이상의 결과가 나올 수 있다.
이러한 경우 man 명령어는 어떤 방식으로 결과를 처리하며, 특정 섹션을 명시해서 원하는 정보를 보는 방법을 서술하시오.
### 풀이
`man` 명령어는 매뉴얼을 섹션 번호별로 구분해서 관리합니다. 예를 들어 `open`이라는 명령은 system call과 C 라이브러리 함수 등 여러 섹션에 있을 수 있습니다.
기본적으로 `man open`을 입력하면 가장 먼저 검색되는 섹션의 open 문서를 보여줍니다.

특정 섹션을 조회하려면 아래와 같이 사용합니다:
```
man [섹션번호] [명령어]
예: man 2 open   # system call의 open
    man 3 open   # C 라이브러리 함수의 open
```

## 2. `man`, `--help`, `info`, `whatis`, `apropos` 차이점
### 문제
man, --help, info, whatis, apropos는 모두 리눅스에서 명령어 사용법을 알려주는 도구다.
이 명령어의 사용성과 정보 구성 방식에서의 차이점을 서술하시오.
### 풀이
| 명령어 | 설명 | 특징 |
|-------|------|------|
`man`	| 매뉴얼 페이지 보기 | 섹션별 문서, 포괄적 정보
`--help` | 프로그램 자체 도움말 | 사용 예시 및 간략 옵션 나열
`info` | GNU info 시스템 문서 | 계층 구조로 탐색 가능
`whatis` | 간략 설명 조회 | 특정 명령어의 1줄 요약
`apropos` | 키워드 검색 | 관련 명령어 리스트 검색

## 3. 루트 디렉토리(/)의 주요 하위 디렉토리
### 문제
리눅스 시스템에서 루트 디렉토리(/)는 다양한 하위 디렉토리를 포함하고 있으며, 각각은 특정 역할을 가진다.
각 디렉토리의 목적과 주요 내용을 서술하시오.
### 풀이
![image](https://github.com/user-attachments/assets/4c7a8b20-d7af-4716-8334-fa807d054b3d) |
---|

## 4. 리눅스 부팅 시 필수 디렉토리 및 역할
### 문제
리눅스 시스템이 부팅되는 과정에서 반드시 필요한 디렉토리 구조와 파일은 어떤 것들이 있으며, 이들이 어떤 역할을 수행하는지 설명하시오.
### 풀이
- `/boot`: 커널 및 부트로더
- `/etc`: 시스템 초기화 설정
- `/sbin`: 시스템 관리 명령어
- `/dev`: 디바이스 파일
- `/proc`: 시스템 정보
- `/init` 또는 `/sbin/init`: 초기화 프로세스

## 5. vi에서 검색 및 치환 방법
### 문제
vi에서 텍스트를 검색하고, 찾은 단어를 교체하는 방법에 대해 서술하시오.
다음 조건을 만족하는 명령어를 사용한 예시를 들어 설명하시오:
텍스트 파일에서 "apple"이라는 단어를 검색하고, "apple"을 "orange"로 교체하는 명령어.
### 풀이
**"apple" 검색:**
```
/apple
```
**"apple" → "orange" 교체 (파일 전체):**
```
:%s/apple/orange/g
```
`:%s` → 전체 범위 <br>
`g` → 한 줄에 여러 번 나와도 모두 변경

## 6. `make`와 `Makefile`
### 문제
make 명령어는 C 프로그램의 빌드 과정을 자동화하는 데 사용된다.
make 명령어의 기본 동작 원리를 서술하고, Makefile의 주요 구성 요소(목표, 의존성, 명령어)에 대해 설명하시오.
### 풀이
`make`: 소스 변경 시 필요한 부분만 재컴파일하는 자동화 도구

**Makefile 구성요소:**
```
target: dependencies
    commands
```
예시:
```
main: main.o utils.o
	gcc -o main main.o utils.o

main.o: main.c
	gcc -c main.c

utils.o: utils.c
	gcc -c utils.c
```
## 7. 하드 링크 vs 심볼릭 링크
### 문제
하드 링크(hard link)와 심볼릭 링크(symbolic link)의 차이점에 대해 설명하시오.
각 링크의 장단점과 이들이 파일 시스템에서 어떻게 동작하는지에 대해서도 서술하시오.
### 풀이

| 구분 | 하드 링크 | 심볼릭 링크 |
|------|----------|------------|
개념 | 동일한 inode를 공유 | 파일 경로를 참조
제거 영향 | 원본 삭제해도 링크 유지 | 원본 삭제 시 링크 깨짐
디렉토리 링크 | 불가능 | 가능
장점 | 속도 빠름, 안정적 | 유연성, 외부 파일 링크 가능

## 8. 프로세스 및 PCB
### 문제
프로세스(process)의 개념을 설명하시오. 또한, 프로세스가 실행되는 동안 프로세스 제어 블록(PCB)에 포함된 주요 정보들에 대해 서술하시오.
프로세스가 생성될 때와 종료될 때, PCB가 어떻게 변하는지도 함께 설명하시오.
### 풀이
- **프로세스**: 실행 중인 프로그램의 인스턴스
- **PCB(Process Control Block)**: 프로세스의 상태 및 정보 저장
    + PID, 상태, 레지스터, 메모리 정보, 열린 파일, 스케줄링 정보 등

- 생성 시: PCB가 생성되어 큐에 등록됨
- 종료 시: PCB가 커널에서 제거됨

## 9. 쉘 스크립트: 파일 존재 확인 및 생성
### 문제
사용자가 쉘 스크립트 실행 시 파일 이름을 인자로 전달하면, 해당 파일이 존재하는지 확인한 뒤 다음과 같이 동작하는 스크립트를 작성하시오.
- 파일이 존재하면: "[파일명] exists" 출력
- 파일이 존재하지 않으면: "[파일명] does not exist" 출력 후 파일 생성
### 풀이
```
#!/bin/bash

filename=$1

if [ -e "$filename" ]; then
    echo "$filename exists"
else
    echo "$filename does not exist"
    touch "$filename"
fi
```

## 10. .log 파일 개수 세기
### 문제
사용자 홈 디렉토리 내의 .log 확장자를 가진 파일들의 개수를 세는 쉘 스크립트를 작성하시오.
결과는 "총 로그 파일 수: N개" 형식으로 출력되어야 한다.
### 풀이
```
#!/bin/bash

count=$(ls ~/.log* 2>/dev/null | wc -l)
echo "총 로그 파일 수: $count개"
```

## 11. C 구조체 성적 관리 프로그램
### 문제
학생들의 성적을 관리하는 프로그램을 작성하시오. 학생 정보는 Student라는 구조체에 저장되며, 구조체는 다음과 같은 멤버들을 포함해야 한다:
이름 | (문자열)
-----|--------
국어| 점수 (정수)
영어| 점수 (정수)
수학| 점수 (정수)

학생 정보를 담고 있는 구조체 배열을 선언하고, 총점과 평균을 계산하는 함수를 작성하시오.
학생 5명의 정보를 입력받고, 각 학생의 이름과 총점, 평균을 출력하시오.
평균은 소수점 둘째 자리까지 출력하시오.
### 풀이
```c
#include <stdio.h>

typedef struct {
    char name[20];
    int kor, eng, math;
} Student;

void calculate(Student s[], int n) {
    for(int i = 0; i < n; i++) {
        int total = s[i].kor + s[i].eng + s[i].math;
        float avg = total / 3.0;
        printf("%s - 총점: %d, 평균: %.2f\n", s[i].name, total, avg);
    }
}

int main() {
    Student s[5];
    for(int i = 0; i < 5; i++) {
        printf("%d번째 학생 이름 국어 영어 수학: ", i + 1);
        scanf("%s %d %d %d", s[i].name, &s[i].kor, &s[i].eng, &s[i].math);
    }
    calculate(s, 5);
    return 0;
}
```
## 12. 실소유자 vs 유효 소유자
### 문제
리눅스 시스템에서 실제 소유자(real owner)와 유효 소유자(effective owner)의 차이에 대해 설명하시오.
이 개념이 파일 시스템의 권한 관리에서 어떻게 활용되는지 구체적인 예를 들어 서술하시오.
### 풀이
- **실소유자(Real Owner)**: 프로세스를 시작한 사용자
- **유효 소유자(Effective Owner)**: 파일/프로세스에 대해 권한 판별 시 사용되는 사용자

활용 예:
- `passwd` 명령은 일반 사용자가 실행하지만 `/etc/shadow` 파일을 수정해야 하므로, `passwd` 실행 파일의 유효 UID는 root입니다.(`setuid` 설정)

```
ls -l /usr/bin/passwd
-rwsr-xr-x 1 root root ...
```
- 여기서 `s`는 setuid 비트로, 실행 시 유효 소유자가 root임을 의미합니다.

## 13. 인의예지신과 중도
### 문제
인의예지신과 중도에 대해 기술하시오.
### 풀이
- 인(仁): 타인을 사랑하고 배려하는 자애로운 마음, 측은지심(惻隱之心), 불쌍한 이를 보면 가엾게 여기는 마음, 어진 인
- 의(義): 옳고 그름을 분별하며 정의를 실천하는 자세, 수오지심(羞惡之心), 불의를 부끄러워하고 악한 것을 미워하는 마음, 옳을 의
- 예(禮): 예절과 도리를 지키는 태도, 사양지심(辭讓之心), 자신을 낮추고 겸손하게 행동하며 남을 배려하는 마음, 예절 예
- 지(智): 지혜롭고 슬기로운 판단력, 시비지심(是非之心), 옳고 그름을 가릴 줄 아는 마음, 지혜 지
- 신(信): 믿음과 신뢰를 중시하는 덕목, 광명지심(光明之心), 중심을 잡고 바르게 서서 밝은 빛을 내어 믿음을 주는 마음, 믿을 신
- 중도 : '중도'는 고타마 붓다가 깨달음을 얻기 위해 실천한 수행 원칙으로, 지나친 쾌락과 극단적인 고행을 모두 배척하고 균형 잡힌 수행법을 따르는 것이 핵심
